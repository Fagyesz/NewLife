<!-- Hero Section -->
<section class="hero">
  <app-bubbles></app-bubbles>
  <div class="hero-content">
    <div class="container">
      <h1 class="hero-title" animateOnScroll="fadeInUp" [animationDelay]="200">√údv√∂z√∂lj√ºk az √öj √âlet Baptista Gy√ºlekezetben!</h1>
      <p class="hero-subtitle" animateOnScroll="fadeInUp" [animationDelay]="400">Gy√∂ngy√∂s sz√≠v√©ben egy k√∂z√∂ss√©g, ahol Isten szeretete √©l</p>
      
      <!-- Live Status & Countdown -->
      <div class="hero-status" animateOnScroll="zoomIn" [animationDelay]="600">
        <div *ngIf="isLive()" class="live-indicator">
          <span class="live-badge">üî¥ √âL≈ê</span>
          <span>Istentisztelet folyamatban</span>
        </div>
        <div *ngIf="!isLive()" class="countdown-display">
          <span class="countdown-label">K√∂vetkez≈ë istentisztelet:</span>
          <span class="countdown-time">{{ countdownTimer() }}</span>
        </div>
      </div>
      
      <div class="hero-buttons" animateOnScroll="fadeInUp" [animationDelay]="800">
        <a routerLink="/esemenyek" class="btn btn-primary btn-glow">Esem√©nyek</a>
        <a routerLink="/elo-kozvetites" class="btn btn-secondary btn-glow">
          {{ isLive() ? 'üî¥ √âl≈ë k√∂zvet√≠t√©s' : 'üì∫ K√∂zvet√≠t√©sek' }}
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Welcome Section -->
<section class="section welcome">
  <div class="container">
    <div class="row">
      <div class="col">
        <h2 class="text-center" animateOnScroll="fadeInDown" [animationDelay]="200">Szabads√°g Krisztusban</h2>
        <p class="text-center lead" animateOnScroll="fadeInUp" [animationDelay]="400">
          "Ha teh√°t a Fi√∫ megszabad√≠t titeket, val√≥ban szabadok lesztek." - J√°nos 8:36
        </p>
        <p class="text-center" animateOnScroll="fadeInUp" [animationDelay]="600">
          Gy√ºlekezet√ºnk egy meleg, szeretetteljes k√∂z√∂ss√©g Gy√∂ngy√∂s√∂n, ahol minden ember 
          megtal√°lhatja hely√©t Isten csal√°dj√°ban. C√©lunk, hogy az evang√©lium vil√°goss√°ga 
          √°ltal √∫j √©letet tal√°ljunk J√©zus Krisztusban.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Upcoming Events Preview -->
<section class="section upcoming-events" *ngIf="upcomingEvents().length > 0">
  <div class="container">
    <h2 class="text-center" animateOnScroll="fadeInDown">K√∂zelg≈ë esem√©nyek</h2>
    <div class="events-preview">
      <div *ngFor="let event of upcomingEvents(); let i = index" 
           class="event-preview-card" 
           animateOnScroll="slideInLeft" 
           [animationDelay]="i * 200 + 300">
        <div class="event-date">
          <span class="event-icon">{{ getEventTypeIcon(event.type) }}</span>
          <span class="event-time">{{ formatEventDate(event.date) }}</span>
        </div>
        <div class="event-info">
          <h4>{{ event.title }}</h4>
          <p>{{ event.description }}</p>
          <div class="event-meta">
            <span class="location">üìç {{ event.location }}</span>
            <span class="attendance" *ngIf="event.id">
              {{ getAttendanceCount(event.id) }} r√©sztvev≈ë
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center" animateOnScroll="fadeInUp" [animationDelay]="800">
      <a routerLink="/esemenyek" class="btn btn-outline">√ñsszes esem√©ny megtekint√©se ‚Üí</a>
    </div>
  </div>
</section>



<!-- Info Cards -->
<section class="section info-cards">
  <div class="container">
    <div class="cards-grid">
      <div class="card" animateOnScroll="bounceIn" [animationDelay]="200">
        <div class="card-icon">‚õ™</div>
        <h3>Istentiszteletek</h3>
        <p>Vas√°rnaponk√©nt 10:00-t√≥l v√°rjuk szeretettel a gy√ºlekezetet k√∂z√∂s im√°ds√°gra √©s ige hallgat√°s√°ra.</p>
        <a routerLink="/elo-kozvetites" class="card-link">√âl≈ë k√∂zvet√≠t√©s ‚Üí</a>
      </div>
      
      <div class="card" animateOnScroll="bounceIn" [animationDelay]="400">
        <div class="card-icon">üë•</div>
        <h3>K√∂z√∂ss√©g</h3>
        <p>Kiscsoportos alkalmak, biblia√≥r√°k √©s k√∂z√∂ss√©gi programok minden koroszt√°ly sz√°m√°ra.</p>
        <a href="https://discord.gg/gTDUpApNae" target="_blank" rel="noopener noreferrer" class="card-link">Discord k√∂z√∂ss√©g ‚Üí</a>
      </div>
      
      <div class="card" animateOnScroll="bounceIn" [animationDelay]="600">
        <div class="card-icon">üìñ</div>
        <h3>Bibliatanulm√°nyoz√°s</h3>
        <p>Heti rendszeress√©ggel tartott biblia√≥r√°k, ahol egy√ºtt kutatjuk Isten ig√©j√©t.</p>
        <a routerLink="/esemenyek" class="card-link">Esem√©nyek ‚Üí</a>
      </div>
    </div>
  </div>
</section>

<!-- Latest News Preview -->
<section class="section latest-news" *ngIf="latestNews().length > 0">
  <div class="container">
    <h2 class="text-center">Legfrissebb h√≠rek</h2>
    <div class="news-preview">
      <div *ngFor="let newsItem of latestNews()" class="news-preview-card" (click)="openNewsModal(newsItem)">

        <div class="news-content">
          <div class="news-date">{{ formatNewsDate(newsItem.publishedAt) }}</div>
          <h4>{{ newsItem.title }}</h4>
          <p>{{ newsItem.summary || (newsItem.content | slice:0:120) + '...' }}</p>
          <span class="news-category">
            {{ getCategoryIcon(newsItem.category || 'general') }} {{ getCategoryText(newsItem.category || 'general') }}
          </span>
          <span class="read-more">R√©szletek ‚Üí</span>
      </div>
      </div>
    </div>
    <div class="text-center">
      <a routerLink="/hirek" class="btn btn-outline">√ñsszes h√≠r megtekint√©se ‚Üí</a>
    </div>
  </div>
</section>

<!-- Contact Info -->
<section class="section contact-info">
  <app-bubbles></app-bubbles>
  <div class="container">
    <div class="contact-content">
      <h2 class="text-center">L√°togasson el hozz√°nk!</h2>
      <div class="contact-details">
        <div class="contact-item">
          <strong>üìç C√≠m:</strong>
          <span>√öj √âlet Baptista Gy√ºlekezet, Gy√∂ngy√∂s, P√°ter Kiss Szal√©z u. 14</span>
        </div>
        <div class="contact-item">
          <strong>üïê Istentisztelet:</strong>
          <span>Vas√°rnap 10:00</span>
        </div>
        <div class="contact-item">
          <strong>üåê Online:</strong>
          <span>
            <a href="https://discord.gg/gTDUpApNae" target="_blank" rel="noopener noreferrer" style="color: #429aca;">
              üí¨ Discord k√∂z√∂ss√©g
            </a>
          </span>
        </div>
      </div>
      <div class="text-center" style="margin-top: 2rem;">
        <a routerLink="/kapcsolat" class="btn btn-primary">Kapcsolatfelv√©tel</a>
      </div>
    </div>
  </div>
</section>

<!-- News Modal -->
<div *ngIf="showNewsModal()" class="modal-overlay" (click)="closeNewsModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <div class="news-meta-header">
        <div class="news-date">{{ formatNewsDate(selectedNews()!.publishedAt) }}</div>
        <span class="news-category">
          {{ getCategoryIcon(selectedNews()!.category || 'general') }} {{ getCategoryText(selectedNews()!.category || 'general') }}
        </span>
      </div>
      <button class="close-btn" (click)="closeNewsModal()">‚úï</button>
    </div>
    
    <div class="modal-body">
      <h1>{{ selectedNews()!.title }}</h1>
      <div class="news-author">üë§ {{ selectedNews()!.author }}</div>
      
      <div class="news-content">
        <img *ngIf="selectedNews()?.imageUrl" 
             [lazyImg]="selectedNews()!.imageUrl!" 
             [alt]="selectedNews()!.title"
             class="news-image"
             (error)="onImageError($event)">
        
        <p *ngIf="selectedNews()!.summary" class="news-summary">{{ selectedNews()!.summary }}</p>
        <div class="news-text">{{ selectedNews()!.content }}</div>
      </div>
    </div>
  </div>
</div>



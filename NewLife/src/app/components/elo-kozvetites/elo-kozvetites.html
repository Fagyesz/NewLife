<!-- Page Header -->
<section class="page-header">
  <app-bubbles></app-bubbles>
  <div class="container">
    <h1 animateOnScroll="fadeInDown" [animationDelay]="200">Élő közvetítés</h1>
    <p animateOnScroll="fadeInUp" [animationDelay]="400">Csatlakozzon online istentiszteleteinkhez</p>
  </div>
</section>

<!-- Live Stream Feed -->
<section class="section live-feed" *ngIf="isStreamLive()">
  <div class="container">
    <h2 class="text-center mb-3" animateOnScroll="bounceIn">🔴 Élő közvetítés</h2>
    <div class="live-stream-embed" animateOnScroll="zoomIn" [animationDelay]="400">
      <!-- YouTube Live Stream Embed -->
      <div class="youtube-embed">
        <iframe 
          width="100%" 
          height="450" 
          [src]="youtubeEmbedUrl"
          title="Új Élet Baptista Gyülekezet - Élő közvetítés"
          frameborder="0" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen
          style="border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.3);">
        </iframe>
      </div>
      
      <!-- Chat or Additional Live Features -->
      <div class="live-features" animateOnScroll="slideInUp" [animationDelay]="600">
        <div class="live-chat-info">
          <h4>💬 Élő beszélgetés</h4>
          <p>Csatlakozzon a beszélgetéshez a YouTube chat-ben, vagy Discord szerverünkön!</p>
          <div class="live-actions">
            <a href="https://discord.gg/gTDUpApNae" 
               target="_blank" 
               rel="noopener noreferrer" 
               class="btn btn-discord">
              💬 Discord chat
            </a>
            <a href="https://www.youtube.com/@ujeletbaptistagyulekezet" 
               target="_blank" 
               rel="noopener noreferrer" 
               class="btn btn-youtube">
              📺 YouTube csatorna
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Live Stream Section -->
<section class="section stream-section">
  <div class="container">
    <!-- Current Status -->
    <div class="stream-status" [class]="getStreamStatusClass()" animateOnScroll="bounceIn" [animationDelay]="600">
      <div class="status-indicator" [class.pulse]="isStreamLive()"></div>
      <span class="status-text">{{ getStreamStatus() }}</span>
      <span class="next-stream">{{ getNextStreamText() }}</span>
    </div>

    <!-- Countdown Timer -->
    <div class="countdown-container" *ngIf="!isStreamLive()" animateOnScroll="zoomIn" [animationDelay]="800">
      <h3>🕐 Következő istentiszteletig:</h3>
      <div class="countdown-timer">
        <div class="time-unit">
          <span class="number" id="days">{{ timeUntilService().days.toString().padStart(2, '0') }}</span>
          <span class="label">nap</span>
        </div>
        <div class="time-unit">
          <span class="number" id="hours">{{ timeUntilService().hours.toString().padStart(2, '0') }}</span>
          <span class="label">óra</span>
        </div>
        <div class="time-unit">
          <span class="number" id="minutes">{{ timeUntilService().minutes.toString().padStart(2, '0') }}</span>
          <span class="label">perc</span>
        </div>
        <div class="time-unit">
          <span class="number" id="seconds">{{ timeUntilService().seconds.toString().padStart(2, '0') }}</span>
          <span class="label">mp</span>
        </div>
      </div>
    </div>

    <!-- Notification Subscription -->
    <div class="notification-section" animateOnScroll="slideInLeft" [animationDelay]="1000">
      <div class="notification-card">
        <h4>🔔 Értesítések</h4>
        <p>Szeretne értesítést kapni a közvetítések kezdete előtt?</p>
        <div class="notification-options">
          <a href="https://www.youtube.com/@ujeletbaptistagyulekezet?sub_confirmation=1" 
             target="_blank" 
             rel="noopener noreferrer" 
             class="btn btn-notification youtube">
            📺 YouTube feliratkozás
          </a>
          <a href="https://discord.gg/gTDUpApNae" 
             target="_blank" 
             rel="noopener noreferrer" 
             class="btn btn-notification discord">
            💬 Discord csatlakozás
          </a>
        </div>
      </div>
    </div>

    <!-- Video Player Placeholder -->
    <div class="video-container" animateOnScroll="fadeInUp" [animationDelay]="1200">
      <div class="video-placeholder">
        <div class="placeholder-content">
          <div class="play-icon">▶</div>
          <h3>Vasárnapi istentisztelet élő közvetítése</h3>
          <p>Csatlakozzon online közösségünkhöz minden vasárnap 10:00 órakor</p>
          <a href="https://www.youtube.com/@ujeletbaptistagyulekezet" 
             target="_blank" 
             rel="noopener noreferrer" 
             class="btn btn-primary">
            📺 YouTube csatorna megtekintése
          </a>
        </div>
      </div>
    </div>

    <!-- Stream Info -->
    <div class="stream-info" animateOnScroll="slideInRight" [animationDelay]="1400">
      <div class="info-grid">
        <div class="info-card">
          <h4>📅 Közvetítési időpontok</h4>
          <ul>
            <li>Vasárnap 10:00 - Istentisztelet</li>
            <li>Különleges alkalmak</li>
          </ul>
        </div>
        
        <div class="info-card">
          <h4>📱 Hogyan nézhetem?</h4>
          <p>YouTube csatornánkon keresztül bármilyen eszközön követheti az istentiszteleteket:</p>
          <ul>
            <li>Számítógépen</li>
            <li>Okostelefonon</li>
            <li>Smart TV-n</li>
            <li>Tableten</li>
          </ul>
        </div>
        
        <div class="info-card">
          <h4>💬 Interakció & Közösség</h4>
          <p>Csatlakozzon a beszélgetéshez:</p>
          <ul>
            <li>YouTube chat a közvetítés alatt</li>
            <li>Discord szerver folyamatos beszélgetéshez</li>
            <li>Imakérések megosztása</li>
            <li>Közösségi programok szervezése</li>
          </ul>
          <a href="https://discord.gg/gTDUpApNae" 
             target="_blank" 
             rel="noopener noreferrer" 
             class="discord-link">
            💬 Discord közösséghez csatlakozás
          </a>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Technical Info -->
<section class="section tech-info">
  <div class="container">
    <div class="tech-content" animateOnScroll="fadeInDown" [animationDelay]="200">
      <h2>Technikai információk</h2>
      <div class="tech-grid">
        <div class="tech-card" animateOnScroll="bounceIn" [animationDelay]="400">
          <h4>🎥 Videóminőség</h4>
          <p>HD 1080p minőségben közvetítünk a legjobb élmény érdekében</p>
        </div>
        
        <div class="tech-card" animateOnScroll="bounceIn" [animationDelay]="600">
          <h4>🔊 Hang</h4>
          <p>Tiszta hangminőség professzionális mikrofonrendszerrel</p>
        </div>
        
        <div class="tech-card" animateOnScroll="bounceIn" [animationDelay]="800">
          <h4>📱 Mobil</h4>
          <p>Mobilbarát lejátszó minden okoseszközön</p>
        </div>
        
        <div class="tech-card" animateOnScroll="bounceIn" [animationDelay]="1000">
          <h4>💾 Utólag</h4>
          <p>Minden közvetítés elérhető marad a YouTube csatornán</p>
        </div>
      </div>
    </div>
  </div>
</section>

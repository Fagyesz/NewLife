<!-- Page Header -->
<section class="page-header">
  <div class="container">
    <h1>Esem√©nyek</h1>
    <p>Gy√ºlekezeti alkalmaink √©s programjaink</p>
  </div>
</section>

<!-- Upcoming Events -->
<section class="section events-section">
  <div class="container">
    <h2 class="text-center mb-3">K√∂zelg≈ë esem√©nyek</h2>
    
    <!-- Loading State -->
    <div *ngIf="isLoading()" class="text-center">
      <p>Esem√©nyek bet√∂lt√©se...</p>
    </div>
    
    <!-- Events Grid -->
    <div class="events-grid" *ngIf="!isLoading()">
      <!-- Dynamic Events from Firebase -->
      <div *ngFor="let event of getUpcomingEvents(); trackBy: trackByEventId" 
           class="event-card" 
           [class.featured]="event.type === 'service'"
           [class.special]="event.type === 'special'">
        
        <div class="event-date">
          <span class="day">{{ formatEventDate(event.date).split(' ')[0] }}</span>
          <span class="date">{{ formatEventDate(event.date).split(' ')[1] }}</span>
        </div>
        
        <div class="event-info">
          <h3>{{ event.title }}</h3>
          <p>{{ event.description }}</p>
          <div class="event-details">
            <span class="location">üìç {{ event.location }}</span>
            <span class="type">{{ getEventTypeIcon(event.type) }} {{ getEventTypeText(event.type) }}</span>
          </div>
        </div>
        
        <div class="attendance-section">
          <button 
            *ngIf="event.id"
            [class]="getAttendanceButtonClass(event.id)"
            (click)="toggleAttendance(event)"
            [disabled]="isLoading()">
            {{ getAttendanceButtonText(event.id) }}
          </button>
          <span class="attendance-count" *ngIf="event.id">
            {{ getAttendanceCount(event.id) }} jel√∂lte meg
          </span>
        </div>
      </div>

      <!-- Fallback Events (if no Firebase events) -->
      <div *ngIf="getUpcomingEvents().length === 0" class="no-events">
        <!-- Sunday Service -->
        <div class="event-card featured">
          <div class="event-date">
            <span class="day">Vas</span>
            <span class="date">10:00</span>
          </div>
          <div class="event-info">
            <h3>Vas√°rnapi istentisztelet</h3>
            <p>K√∂z√∂s im√°dat, ige √©s √∫rvacsora minden vas√°rnap reggel</p>
            <div class="event-details">
              <span class="location">üìç Gy√ºlekezeti terem</span>
              <span class="type">‚õ™ Istentisztelet</span>
            </div>
          </div>
          <div class="attendance-section">
            <button class="btn btn-primary attendance-btn">Firebase kapcsol√≥d√°s sz√ºks√©ges</button>
            <span class="attendance-count">Konfigur√°ci√≥ hi√°nyzik</span>
          </div>
        </div>

        <!-- Bible Study -->
        <div class="event-card">
          <div class="event-date">
            <span class="day">Sze</span>
            <span class="date">19:00</span>
          </div>
          <div class="event-info">
            <h3>Biblia√≥ra</h3>
            <p>K√∂z√∂s bibliatanulm√°nyoz√°s √©s besz√©lget√©s</p>
            <div class="event-details">
              <span class="location">üìç Gy√ºlekezeti terem</span>
              <span class="type">üìñ Biblia√≥ra</span>
            </div>
          </div>
          <div class="attendance-section">
            <button class="btn btn-secondary attendance-btn">Firebase kapcsol√≥d√°s sz√ºks√©ges</button>
            <span class="attendance-count">Konfigur√°ci√≥ hi√°nyzik</span>
          </div>
        </div>

        <!-- Prayer Meeting -->
        <div class="event-card">
          <div class="event-date">
            <span class="day">P√©n</span>
            <span class="date">18:30</span>
          </div>
          <div class="event-info">
            <h3>Ima√≥ra</h3>
            <p>K√∂z√∂s ima √©s k√∂zbenj√°r√°s</p>
            <div class="event-details">
              <span class="location">üìç Gy√ºlekezeti terem</span>
              <span class="type">üôè Ima√≥ra</span>
            </div>
          </div>
          <div class="attendance-section">
            <button class="btn btn-secondary attendance-btn">Firebase kapcsol√≥d√°s sz√ºks√©ges</button>
            <span class="attendance-count">Konfigur√°ci√≥ hi√°nyzik</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Info Section -->
<section class="section info-section">
  <div class="container">
    <div class="info-content">
      <h2>Inform√°ci√≥k</h2>
      <div class="info-cards">
        <div class="info-card">
          <h4>üïê Rendszeres alkalmaink</h4>
          <ul>
            <li><strong>Vas√°rnap 10:00</strong> - Istentisztelet</li>
            <li><strong>Szerda 19:00</strong> - Biblia√≥ra</li>
            <li><strong>P√©ntek 18:30</strong> - Ima√≥ra</li>
          </ul>
        </div>
        
        <div class="info-card">
          <h4>üìç Helysz√≠n</h4>
          <p>Gy√∂ngy√∂s<br>
          [Pontos c√≠m megad√°sa sz√ºks√©ges]<br>
          Parkol√°si lehet≈ës√©g az √©p√ºlet mellett</p>
        </div>
        
        <div class="info-card">
          <h4>üë• K√∂z√∂ss√©g</h4>
          <p>Szeretettel v√°runk minden koroszt√°lyt! Gyermekfel√ºgyelet biztos√≠tott a vas√°rnapi istentiszteletek alatt.</p>
        </div>
      </div>
    </div>
  </div>
</section>

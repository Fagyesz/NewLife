<!-- Page Header -->
<section class="page-header">
  <div class="container">
    <h1>Események</h1>
    <p>Gyülekezeti alkalmaink és programjaink</p>
  </div>
</section>

<!-- Recurring Events Section -->
<section class="section recurring-events-section">
  <div class="container">
    <h2 class="text-center mb-3">Rendszeres alkalmaink</h2>
    <p class="text-center mb-4">Minden héten ugyanezen időpontokban találkozunk</p>
    
    <div class="recurring-events-grid">
      <!-- Sunday Service -->
      <div class="recurring-event-card featured">
        <div class="event-icon">⛪</div>
        <div class="event-info">
          <h3>Vasárnapi istentisztelet</h3>
          <div class="event-time">
            <span class="day">Vasárnap</span>
            <span class="time">10:00</span>
          </div>
          <p>Közös imádat, ige és úrvacsora minden vasárnap reggel</p>
          <div class="event-location">
            <span>📍 Gyülekezeti terem</span>
          </div>
        </div>
      </div>

      <!-- Bible Study -->
      <div class="recurring-event-card">
        <div class="event-icon">📖</div>
        <div class="event-info">
          <h3>Bibliaóra</h3>
          <div class="event-time">
            <span class="day">Szerda</span>
            <span class="time">19:00</span>
          </div>
          <p>Közös bibliatanulmányozás és beszélgetés</p>
          <div class="event-location">
            <span>📍 Gyülekezeti terem</span>
          </div>
        </div>
      </div>

      <!-- Prayer Meeting -->
      <div class="recurring-event-card">
        <div class="event-icon">🙏</div>
        <div class="event-info">
          <h3>Imaóra</h3>
          <div class="event-time">
            <span class="day">Péntek</span>
            <span class="time">18:30</span>
          </div>
          <p>Közös ima és közbenjárás</p>
          <div class="event-location">
            <span>📍 Gyülekezeti terem</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Upcoming Events Section -->
<section class="section upcoming-events-section">
  <div class="container">
    <h2 class="text-center mb-3">Közelgő események</h2>
    <p class="text-center mb-4">Különleges alkalmak és programok</p>
    
    <!-- Loading State -->
    <div *ngIf="isLoading()" class="text-center">
      <p>Események betöltése...</p>
    </div>
    
    <!-- Events List -->
    <div class="upcoming-events-list" *ngIf="!isLoading()">
      <!-- Dynamic Events from Firebase -->
      <div *ngFor="let event of getUpcomingEvents(); trackBy: trackByEventId" 
           class="upcoming-event-card" 
           [class.featured]="event.type === 'service'"
           [class.special]="event.type === 'special'">
        
        <div class="event-date-time">
          <div class="event-date">
            <span class="month">{{ getEventMonth(event.date) }}</span>
            <span class="day">{{ getEventDay(event.date) }}</span>
          </div>
          <div class="event-time">
            <span class="time">{{ getEventTime(event.date) }}</span>
            <span class="weekday">{{ getEventWeekday(event.date) }}</span>
          </div>
        </div>
        
        <div class="event-content">
          <div class="event-header">
            <h3>{{ event.title }}</h3>
            <span class="event-type">{{ getEventTypeIcon(event.type) }} {{ getEventTypeText(event.type) }}</span>
          </div>
          <p class="event-description">{{ event.description }}</p>
          <div class="event-location">
            <span>📍 {{ event.location }}</span>
          </div>
        </div>
        
        <div class="event-actions">
          <button 
            *ngIf="event.id"
            [class]="getAttendanceButtonClass(event.id)"
            (click)="toggleAttendance(event)"
            [disabled]="isLoading()">
            {{ getAttendanceButtonText(event.id) }}
          </button>
          <span class="attendance-count" *ngIf="event.id">
            {{ getAttendanceCount(event.id) }} jelölte meg
          </span>
        </div>
      </div>

      <!-- No Events Message -->
      <div *ngIf="getUpcomingEvents().length === 0" class="no-upcoming-events">
        <div class="no-events-icon">📅</div>
        <h3>Jelenleg nincsenek különleges események</h3>
        <p>A rendszeres alkalmaink továbbra is várnak minden héten!</p>
        <p class="note">Firebase kapcsolódás után itt jelennek meg a különleges események.</p>
      </div>
    </div>
  </div>
</section>

<!-- Info Section -->
<section class="section info-section">
  <div class="container">
    <div class="info-content">
      <h2>További információk</h2>
      <div class="info-cards">
        <div class="info-card">
          <h4>📍 Helyszín</h4>
          <p><strong>Gyöngyös</strong><br>
          <strong>Páter Kiss Szaléz u. 14</strong><br>
          Parkolási lehetőség az épület mellett</p>
        </div>
        
        <div class="info-card">
          <h4>👥 Közösség</h4>
          <p>Szeretettel várunk minden korosztályt! Gyermekfelügyelet biztosított a vasárnapi istentiszteletek alatt.</p>
        </div>
        
        <div class="info-card">
          <h4>📞 Kapcsolat</h4>
          <p>Kérdéseid esetén keress minket bizalommal! Szívesen segítünk és tájékoztatunk.</p>
        </div>
      </div>
    </div>
  </div>
</section>
